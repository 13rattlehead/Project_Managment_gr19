# Use Cases – FitLife (Интернет-магазин спортивных товаров)

## 1. Регистрация нового пользователя (Покупатель / Администратор)

**Предусловия:**  
Пользователь впервые открывает сайт.

**Триггер:**  
Пользователь нажимает кнопку «Зарегистрироваться».

**Основной сценарий:**  
1. Система предлагает выбрать тип аккаунта: «Покупатель» или «Администратор» (для администраторов требуется код доступа).  
2. Система предлагает ввести email и пароль.  
3. Пользователь вводит email и пароль, соответствующий требованиям безопасности.  
4. Система проверяет, что email еще не зарегистрирован.  
5. Система отправляет шестизначный код подтверждения на указанный email.  
6. Пользователь вводит полученный код в соответствующее поле.  
7. Система подтверждает код и предлагает заполнить профиль (имя, адрес доставки, предпочтения в товарах).  
8. Пользователь вводит данные.  
9. Система перенаправляет пользователя на главный экран.

**Результат:**  
Создан персональный аккаунт пользователя.

**Альтернативный сценарий:**  
* **4a. Email занят:** Если email уже занят, система сообщает: «Аккаунт с таким email уже существует. Попробуйте войти или восстановить пароль».  
* **6a. Неверный код:** Если код введен неверно, система отображает ошибку: «Неверный код подтверждения».

---

## 2. Просмотр каталога товаров

**Предусловия:**  
Пользователь авторизован или зашёл как гость.

**Триггер:**  
Пользователь заходит на главную страницу или в раздел «Каталог».

**Основной сценарий:**  
1. Система отображает список категорий товаров (одежда, инвентарь, аксессуары).  
2. Пользователь выбирает категорию.  
3. Система показывает товары с фотографиями, описаниями, ценами и рейтингами.  
4. Пользователь может сортировать товары по цене, популярности или новизне.  
5. Пользователь кликает на товар для просмотра деталей.

**Результат:**  
Пользователь видит актуальный каталог товаров.

**Альтернативный сценарий:**  
* **3a. Нет товаров:** Если в категории нет товаров, система отображает сообщение: «Товары в этой категории отсутствуют».

---

## 3. Поиск и фильтры по товарам

**Предусловия:**  
Пользователь на странице каталога.

**Триггер:**  
Пользователь вводит запрос в поисковую строку или выбирает фильтры.

**Основной сценарий:**  
1. Пользователь вводит ключевые слова (например, «спортивные кроссовки»).  
2. Система отображает релевантные товары.  
3. Пользователь применяет фильтры (цена, бренд, размер, цвет).  
4. Система обновляет список товаров в реальном времени.  
5. Пользователь выбирает товар для просмотра.

**Результат:**  
Пользователь получает отфильтрованный список товаров.

**Альтернативный сценарий:**  
* **2a. Нет результатов:** Если товары не найдены, система предлагает похожие товары или сообщает: «Товары не найдены. Попробуйте изменить запрос».

---

## 4. Оформление заказа с интеграцией оплаты и доставки

**Предусловия:**  
Пользователь добавил товары в корзину.

**Триггер:**  
Пользователь нажимает «Оформить заказ».

**Основной сценарий:**  
1. Система отображает корзину с товарами, суммой и опциями доставки.  
2. Пользователь выбирает способ доставки (СДЭК, Boxberry).  
3. Система рассчитывает стоимость доставки.  
4. Пользователь выбирает способ оплаты (ЮKassa, СБП).  
5. Пользователь подтверждает заказ.  
6. Система перенаправляет на страницу оплаты.  
7. После оплаты система отправляет подтверждение на email.

**Результат:**  
Заказ оформлен, оплата произведена, доставка запланирована.

**Альтернативный сценарий:**  
* **6a. Оплата не удалась:** Если оплата не прошла, система возвращает в корзину с сообщением об ошибке.

---

## 5. Интеграция с системами оплаты и доставки

**Предусловия:**  
Заказ в процессе оформления.

**Триггер:**  
Пользователь выбирает оплату/доставку.

**Основной сценарий:**  
1. Система соединяется с API ЮKassa или СБП для оплаты.  
2. Пользователь вводит данные карты или подтверждает через СБП.  
3. Система получает подтверждение оплаты.  
4. Система соединяется с API СДЭК или Boxberry для расчёта доставки.  
5. Пользователь выбирает пункт выдачи или адрес.  
6. Система сохраняет данные и генерирует трек-номер.

**Результат:**  
Интеграция завершена, заказ готов к отправке.

**Альтернативный сценарий:**  
* **3a. Ошибка API:** Если интеграция не удалась, система предлагает альтернативный способ.

---

## 6. Администраторская панель для управления товарами и заказами

**Предусловия:**  
Пользователь авторизован как администратор.

**Триггер:**  
Администратор заходит в панель управления.

**Основной сценарий:**  
1. Система отображает список товаров и заказов.  
2. Администратор добавляет новый товар (название, описание, фото, цена).  
3. Администратор редактирует товар или удаляет.  
4. Администратор просматривает заказы, меняет статус (оплачен, отправлен).  
5. Администратор генерирует отчёты по продажам.

**Результат:**  
Товары и заказы управляются эффективно.

**Альтернативный сценарий:**  
* **2a. Ошибка загрузки фото:** Если фото не загружено, система сообщает об ошибке формата.

---

## 7. Система отзывов и рейтингов

**Предусловия:**  
Пользователь купил товар.

**Триггер:**  
Пользователь нажимает «Оставить отзыв».

**Основной сценарий:**  
1. Система предлагает оценить товар (1–5 звёзд).  
2. Пользователь пишет текст отзыва и добавляет фото.  
3. Система проверяет отзыв на соответствие правилам (нет мата, спама).  
4. Отзыв публикуется на странице товара.  
5. Система обновляет средний рейтинг товара.

**Результат:**  
Отзыв добавлен, рейтинг обновлён.

**Альтернативный сценарий:**  
* **3a. Отзыв отклонён:** Если отзыв не прошёл модерацию, система уведомляет пользователя.

---

## 8. Учет личных данных пользователей

**Предусловия:**  
Пользователь авторизован.

**Триггер:**  
Пользователь заходит в профиль.

**Основной сценарий:**  
1. Система отображает личные данные (имя, адрес, история заказов).  
2. Пользователь редактирует данные (адрес доставки, пароль).  
3. Система сохраняет изменения.  
4. Система отправляет уведомление о изменениях на email.

**Результат:**  
Данные обновлены.

**Альтернативный сценарий:**  
* **2a. Неверный пароль:** Если при смене пароля введён неверный старый, система сообщает об ошибке.

---

## 9. Интеграция с социальными сетями

**Предусловия:**  
Пользователь авторизован.

**Триггер:**  
Пользователь нажимает «Поделиться в соцсетях».

**Основной сценарий:**  
1. Система предлагает выбрать соцсеть (VK, Instagram).  
2. Пользователь авторизуется в соцсети.  
3. Система генерирует пост с отзывом или товаром.  
4. Пост публикуется в профиле пользователя.

**Результат:**  
Отзыв или товар поделён в соцсетях.

**Альтернативный сценарий:**  
* **2a. Нет аккаунта:** Если аккаунт не связан, система предлагает связать.